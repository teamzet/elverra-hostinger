Fix and implement the Orange and Sama payment gateways, migrate the environment to production, and apply payment functionality site-wide.

---

### **Part 1: Payment Gateway Troubleshooting and Configuration**

**Objective:** Get both the Orange and Sama payment gateways fully functional and ready for a production environment.

**Instructions:**
1.  **Orange Payment Gateway:**
    * Thoroughly test the existing Orange payment gateway integration.
    * Identify and fix all issues preventing successful payment transactions (e.g., incorrect API keys, callback URL errors, transaction processing failures, and user experience bugs).
    * Configure the gateway to use the official production API credentials and endpoint.

2.  **Sama Payment Gateway:**
    * Thoroughly test the existing Sama payment gateway integration.
    * Identify and fix all issues preventing successful payment transactions.
    * Configure the gateway to use the official production API credentials and endpoint.

**Acceptance Criteria:**
* A test transaction for both Orange and Sama gateways must successfully process a payment and update the order status in the database.
* The system should correctly handle failed transactions, providing clear feedback to the user and logging the error.
* All API keys and credentials must be correctly stored as environment variables, not hardcoded.

---

### **Part 2: Production Environment Deployment**

**Objective:** Safely and successfully migrate the entire project from the development/staging environment to production.

**Instructions:**
1.  **Environment Setup:**
    * Ensure all production server settings (e.g., domain names, server paths) are configured correctly.
    * Verify that all required dependencies and services (e.g., database, caches) are running and accessible.
2.  **Code Deployment:**
    * Deploy the latest, production-ready codebase to the live server.
    * Run all necessary database migrations to update the production database schema.
3.  **Gateway Activation:**
    * Activate the production API keys for both Orange and Sama payment gateways.
    * Double-check that the redirect and callback URLs are configured to point to the live production domain.

**Acceptance Criteria:**
* The entire site is accessible and fully functional on the production domain.
* All payment gateways are configured with live production credentials.
* A post-deployment checklist is completed to ensure all critical functionalities are working as expected on the live site.